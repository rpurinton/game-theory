<?php
// Exploiter Strategy:
// Defects if the opponent has cooperated over 70% of the time, otherwise cooperates.
$strategies['exploiter'] = function ($data) {
    if (empty($data)) {
        return MOVE_SPLIT;
    }

    $cooperations = 0;
    $totalRounds = count($data);

    foreach ($data as $round) {
        if ($round['opponent_move'] === MOVE_SPLIT) {
            $cooperations++;
        }
    }

    $cooperationRate = $cooperations / $totalRounds;

    return ($cooperationRate > 0.7) ? MOVE_STEAL : MOVE_SPLIT;
};
